var g=(m,a,r)=>new Promise((o,l)=>{var c=t=>{try{i(r.next(t))}catch(s){l(s)}},p=t=>{try{i(r.throw(t))}catch(s){l(s)}},i=t=>t.done?o(t.value):Promise.resolve(t.value).then(c,p);i((r=r.apply(m,a)).next())});import{j as e,L as u}from"./ui-libs-D7quiBqG.js";import{f as h,r as x}from"./react-vendor-DREZjZ3y.js";import{t as j}from"./index-vFyLetUi.js";import{T as y}from"./TripCard-C6PeKURF.js";import"./tripUtils-DVFEfSkV.js";function P(){const{destinationName:m}=h(),a=decodeURIComponent(m||""),[r,o]=x.useState([]),[l,c]=x.useState(!0);x.useEffect(()=>{p()},[a]);const p=()=>g(this,null,function*(){try{c(!0);const t=((yield j.getAllTrips()).trips||[]).filter(s=>{if(s.status!=="active")return!1;const n=getLocationString(s.location).toLowerCase().trim(),d=a.toLowerCase().trim();return n.includes(d)||d.includes(n)});t.sort((s,n)=>{if(s.isPopular&&!n.isPopular)return-1;if(!s.isPopular&&n.isPopular)return 1;const d=parseFloat((s.price||"0").replace(/[â‚¹,]/g,""))||0,f=parseFloat((n.price||"0").replace(/[â‚¹,]/g,""))||0;return d-f}),o(t)}catch(i){console.error("Error fetching trips:",i),o([])}finally{c(!1)}});return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-12 md:py-16",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 md:mb-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-cyan-600 flex items-center justify-center text-white text-xl font-bold shadow-lg",children:"ðŸŒ"}),e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900",children:[a," Trips"]})]}),e.jsxs("p",{className:"text-gray-600 text-lg max-w-3xl",children:["Discover amazing trips and experiences in ",a,". Explore curated travel packages and create unforgettable memories."]})]}),l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(u,{className:"w-12 h-12 animate-spin text-[#017233]"})}):r.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Found ",r.length," ",r.length===1?"trip":"trips"," in ",a]}),e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:r.map(i=>e.jsx(y,{trip:i},i.id))})]}):e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-gray-500 text-lg",children:["No trips available for ",a," at the moment."]})})]})})}export{P as default};
